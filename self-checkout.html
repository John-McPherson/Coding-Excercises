<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <nav>
        <a href="./index.html">Return Home</a>
    </nav>
    <header>
        <h1>Self-Checkout</h1>
    </header>
    <form  onsubmit="handleSubmit(event)">
        <div id="shoping">
        <div id="line1">
            <label for="price-one">What is the price of item 1?</label>
            <input id="price-1" class="price" type="number" required>
            <label for="quanity-1">What is the quanity of item 1?</label>
            <input id="quanity-1" class="quanity" type="number" required>
        </div>
        <div id="line2">
            <label for="price-2">What is the price of item 2?</label>
            <input id="price-2" class="price" type="number" required>
            <label for="quanity-2">What is the quanity of item 2?</label>
            <input id="quanity-2" class="quanity" type="number" required>
        </div>
        </div>
        <button onclick="addLine(event)">Add line</button>
        <button onclick="removeLine(event)">Remove line</button>
        <input type="submit" value="Submit">
    </form>
    <div class="output">

    </div>
    <script>
        function handleSubmit(event) {
            event.preventDefault()
            let price = document.getElementsByClassName('price');
            let quanity = document.getElementsByClassName('quanity');
            let subTotal = 0
            let output = document.getElementsByClassName("output");
            for (let x in price) {
                if (isNaN(x) === false) {
                    subTotal += (parseInt(price[x].value) * parseInt(quanity[x].value));
                }
            }
            let tax = subTotal * .055
            let total = tax + subTotal;
            console.log(tax);
            output[0].innerHTML = `<p>Subtotal: $${subTotal}</p>
     <p>Tax: $${tax}</p>
     <p>Total: $${total}</p>`
        }
        let num = 3;
        function addLine(event) {
            event.preventDefault();
            let container = document.getElementById('shoping');
            container.innerHTML += `<div id="line${num}"> 
            <label for="price-${num}" >What is the price of item ${num}?</label>
            <input id="price-${num}" class="price" type="number" required>
            <label for="quanity-${num}">What is the quanity of item ${num}?</label>
            <input id="quanity-${num}" class="quanity" type="number" required>
            </div>`
            num ++;
        }
        function removeLine(event){
            num --;
            event.preventDefault();
            let myobj = document.getElementById(`line${num}`);
            myobj.remove();
        }
    </script>

</body>

</html>